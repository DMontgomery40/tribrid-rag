{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":""},{"location":"#tribridrag","title":"TriBridRAG","text":"<p>A Tri-Brid RAG Engine combining Vector, Sparse, and Graph Search</p> <p>TriBridRAG is a Retrieval-Augmented Generation engine that combines three search modalities for superior code retrieval:</p> <ol> <li>Vector Search (pgvector) - Semantic similarity using dense embeddings</li> <li>Sparse Search (PostgreSQL FTS) - BM25/keyword matching</li> <li>Graph Search (Neo4j) - Entity relationships and code structure</li> </ol>"},{"location":"#architecture","title":"Architecture","text":"<pre><code>flowchart TB\n    Query[User Query] --&gt; Expand[Query Expansion]\n    Expand --&gt; Vector[Vector Search pgvector]\n    Expand --&gt; Sparse[Sparse Search BM25]\n    Expand --&gt; Graph[Graph Search Neo4j]\n    Vector --&gt; Fusion[TriBrid Fusion RRF]\n    Sparse --&gt; Fusion\n    Graph --&gt; Fusion\n    Fusion --&gt; Rerank[Reranking]\n    Rerank --&gt; Generate[LLM Generation]\n    Generate --&gt; Response[Response]</code></pre>"},{"location":"#quick-start","title":"Quick Start","text":"<pre><code># Clone the repository\ngit clone https://github.com/DMontgomery40/tribrid-rag.git\ncd tribrid-rag\n\n# Install dependencies\npip install -e .\n\n# Start the server\npython -m server.main\n</code></pre>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li>Tri-Brid Fusion: Combines vector, sparse, and graph results using RRF or weighted scoring</li> <li>Configurable Weights: Tune <code>vector_weight</code>, <code>sparse_weight</code>, and <code>graph_weight</code> for your use case</li> <li>Pydantic-First Architecture: All configuration is validated through Pydantic models</li> <li>Auto-Generated Types: TypeScript types are generated from Pydantic for type safety</li> </ul>"},{"location":"#configuration","title":"Configuration","text":"<p>All configuration is managed through <code>tribrid_config.json</code> and validated by the Pydantic model in <code>server/models/tribrid_config_model.py</code>.</p> <p>Pydantic is the Law</p> <p>Every tunable parameter must exist in the Pydantic model first. TypeScript types are generated, not hand-written.</p>"},{"location":"#next-steps","title":"Next Steps","text":"<ul> <li>Quick Start Guide - Get up and running</li> <li>Installation - Detailed setup instructions</li> <li>Tri-Brid Search - Understanding the search architecture</li> </ul>"},{"location":"configuration/settings/","title":"Settings","text":""},{"location":"configuration/settings/#settings-reference","title":"Settings Reference","text":"<p>Complete configuration reference for TriBridRAG.</p>"},{"location":"configuration/settings/#configuration-file","title":"Configuration File","text":"<p>All settings are in <code>tribrid_config.json</code> and validated by the Pydantic model.</p>"},{"location":"configuration/settings/#key-sections","title":"Key Sections","text":""},{"location":"configuration/settings/#retrieval","title":"Retrieval","text":"<pre><code>{\n  \"retrieval\": {\n    \"rrf_k_div\": 60,\n    \"final_k\": 10,\n    \"topk_dense\": 75,\n    \"topk_sparse\": 75\n  }\n}\n</code></pre>"},{"location":"configuration/settings/#fusion","title":"Fusion","text":"<pre><code>{\n  \"fusion\": {\n    \"method\": \"rrf\",\n    \"vector_weight\": 0.4,\n    \"sparse_weight\": 0.3,\n    \"graph_weight\": 0.3,\n    \"rrf_k\": 60\n  }\n}\n</code></pre>"},{"location":"configuration/settings/#chunking","title":"Chunking","text":"<pre><code>{\n  \"chunking\": {\n    \"strategy\": \"ast\",\n    \"chunk_size\": 1000,\n    \"chunk_overlap\": 200\n  }\n}\n</code></pre>"},{"location":"configuration/settings/#pydantic-validation","title":"Pydantic Validation","text":"<p>All settings are validated at load time:</p> <pre><code>from server.models.tribrid_config_model import TriBridConfigRoot\nimport json\n\nconfig = TriBridConfigRoot(**json.load(open('tribrid_config.json')))\n</code></pre>"},{"location":"configuration/settings/#environment-variables","title":"Environment Variables","text":"<p>Settings can also be loaded from environment variables using the flat dict format:</p> <pre><code>export FUSION_VECTOR_WEIGHT=0.5\nexport FUSION_SPARSE_WEIGHT=0.25\nexport FUSION_GRAPH_WEIGHT=0.25\n</code></pre>"},{"location":"features/neo4j-graph/","title":"Graph (Neo4j)","text":""},{"location":"features/neo4j-graph/#graph-search-neo4j","title":"Graph Search (Neo4j)","text":"<p>Neo4j enables code structure analysis through entity relationships.</p>"},{"location":"features/neo4j-graph/#overview","title":"Overview","text":"<p>Graph search captures relationships between code entities:</p> <ul> <li>Function calls</li> <li>Class inheritance</li> <li>Module imports</li> <li>Variable references</li> </ul>"},{"location":"features/neo4j-graph/#configuration","title":"Configuration","text":"<pre><code>{\n  \"graph_storage\": {\n    \"neo4j_uri\": \"bolt://localhost:7687\",\n    \"neo4j_user\": \"neo4j\",\n    \"neo4j_password\": \"\",\n    \"max_hops\": 2,\n    \"include_communities\": true,\n    \"community_algorithm\": \"louvain\"\n  }\n}\n</code></pre>"},{"location":"features/neo4j-graph/#entity-types","title":"Entity Types","text":"<ul> <li><code>function</code> - Function definitions</li> <li><code>class</code> - Class definitions</li> <li><code>module</code> - Python modules</li> <li><code>variable</code> - Important variables</li> <li><code>import</code> - Import statements</li> </ul>"},{"location":"features/neo4j-graph/#relationship-types","title":"Relationship Types","text":"<ul> <li><code>calls</code> - Function calling another</li> <li><code>imports</code> - Module importing</li> <li><code>inherits</code> - Class inheritance</li> <li><code>contains</code> - Nesting relationship</li> <li><code>references</code> - Variable usage</li> </ul>"},{"location":"features/neo4j-graph/#cypher-query-example","title":"Cypher Query Example","text":"<pre><code>MATCH (f:Function)-[:calls*1..2]-&gt;(related)\nWHERE f.name = 'search'\nRETURN f, related\n</code></pre>"},{"location":"features/pgvector/","title":"Vector (pgvector)","text":""},{"location":"features/pgvector/#vector-search-pgvector","title":"Vector Search (pgvector)","text":"<p>pgvector provides fast approximate nearest neighbor search in PostgreSQL.</p>"},{"location":"features/pgvector/#overview","title":"Overview","text":"<p>TriBridRAG uses pgvector for dense vector storage and retrieval, enabling semantic similarity search.</p>"},{"location":"features/pgvector/#configuration","title":"Configuration","text":"<pre><code>{\n  \"embedding\": {\n    \"provider\": \"openai\",\n    \"model\": \"text-embedding-3-large\",\n    \"dimensions\": 3072,\n    \"batch_size\": 64\n  },\n  \"indexing\": {\n    \"postgres_url\": \"postgresql://localhost:5432/tribrid\"\n  }\n}\n</code></pre>"},{"location":"features/pgvector/#index-types","title":"Index Types","text":""},{"location":"features/pgvector/#hnsw-recommended","title":"HNSW (Recommended)","text":"<p>Fast approximate search with good recall:</p> <pre><code>CREATE INDEX ON chunks USING hnsw (embedding vector_cosine_ops);\n</code></pre>"},{"location":"features/pgvector/#ivfflat","title":"IVFFlat","text":"<p>Memory-efficient for large datasets:</p> <pre><code>CREATE INDEX ON chunks USING ivfflat (embedding vector_cosine_ops);\n</code></pre>"},{"location":"features/pgvector/#best-practices","title":"Best Practices","text":"<ul> <li>Use HNSW for most workloads</li> <li>Tune <code>ef_construction</code> and <code>m</code> parameters</li> <li>Monitor index build times for large datasets</li> </ul>"},{"location":"features/tribrid-search/","title":"Tri-Brid Search","text":""},{"location":"features/tribrid-search/#tri-brid-search-architecture","title":"Tri-Brid Search Architecture","text":"<p>TriBridRAG combines three search modalities for comprehensive code retrieval.</p>"},{"location":"features/tribrid-search/#the-three-legs","title":"The Three Legs","text":""},{"location":"features/tribrid-search/#1-vector-search-pgvector","title":"1. Vector Search (pgvector)","text":"<p>Dense vector embeddings capture semantic meaning:</p> <pre><code># Embedding configuration\nembedding:\n  provider: openai\n  model: text-embedding-3-large\n  dimensions: 3072\n</code></pre>"},{"location":"features/tribrid-search/#2-sparse-search-postgresql-fts","title":"2. Sparse Search (PostgreSQL FTS)","text":"<p>BM25-based keyword matching for exact terms:</p> <pre><code># Sparse search configuration\nsparse_search:\n  enabled: true\n  bm25_k1: 1.5\n  bm25_b: 0.75\n</code></pre>"},{"location":"features/tribrid-search/#3-graph-search-neo4j","title":"3. Graph Search (Neo4j)","text":"<p>Entity relationships and code structure:</p> <pre><code># Graph search configuration\ngraph_storage:\n  neo4j_uri: bolt://localhost:7687\n  max_hops: 2\n  include_communities: true\n</code></pre>"},{"location":"features/tribrid-search/#fusion-methods","title":"Fusion Methods","text":""},{"location":"features/tribrid-search/#rrf-reciprocal-rank-fusion","title":"RRF (Reciprocal Rank Fusion)","text":"<p>Combines rankings without score normalization:</p> <pre><code>score = sum(1 / (k + rank_i)) for each system i\n</code></pre>"},{"location":"features/tribrid-search/#weighted-fusion","title":"Weighted Fusion","text":"<p>Score-based combination with configurable weights:</p> <pre><code>fusion:\n  method: rrf  # or \"weighted\"\n  vector_weight: 0.4\n  sparse_weight: 0.3\n  graph_weight: 0.3\n  rrf_k: 60\n</code></pre> <p>Weights Auto-Normalize</p> <p>The fusion weights automatically normalize to sum to 1.0.</p>"},{"location":"getting-started/installation/","title":"Installation","text":""},{"location":"getting-started/installation/#installation","title":"Installation","text":"<p>Detailed installation instructions for TriBridRAG.</p>"},{"location":"getting-started/installation/#system-requirements","title":"System Requirements","text":"<ul> <li>Python: 3.10 or higher</li> <li>PostgreSQL: 14+ with pgvector extension</li> <li>Neo4j: 5.x (optional, for graph search)</li> <li>Memory: 8GB+ recommended</li> </ul>"},{"location":"getting-started/installation/#database-setup","title":"Database Setup","text":""},{"location":"getting-started/installation/#postgresql-with-pgvector","title":"PostgreSQL with pgvector","text":"<pre><code># Install pgvector extension\nCREATE EXTENSION vector;\n\n# Create tables (handled automatically by the indexer)\n</code></pre>"},{"location":"getting-started/installation/#neo4j-optional","title":"Neo4j (Optional)","text":"<pre><code># Using Docker\ndocker run -d \\\n  --name neo4j \\\n  -p 7474:7474 -p 7687:7687 \\\n  -e NEO4J_AUTH=neo4j/password \\\n  neo4j:5\n</code></pre>"},{"location":"getting-started/installation/#environment-variables","title":"Environment Variables","text":"<p>Create a <code>.env</code> file:</p> <pre><code># Database\nPOSTGRES_URL=postgresql://user:pass@localhost:5432/tribrid\nNEO4J_URI=bolt://localhost:7687\nNEO4J_USER=neo4j\nNEO4J_PASSWORD=password\n\n# API Keys\nOPENAI_API_KEY=sk-...\n</code></pre>"},{"location":"getting-started/installation/#verify-installation","title":"Verify Installation","text":"<pre><code># Check config loads\npython -c \"from server.models.tribrid_config_model import TriBridConfigRoot; print('OK')\"\n\n# Run health check\ncurl http://localhost:8000/api/health\n</code></pre>"},{"location":"getting-started/quickstart/","title":"Quick Start","text":""},{"location":"getting-started/quickstart/#quick-start","title":"Quick Start","text":"<p>Get TriBridRAG running in minutes.</p>"},{"location":"getting-started/quickstart/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.10+</li> <li>PostgreSQL with pgvector extension</li> <li>Neo4j (optional, for graph search)</li> </ul>"},{"location":"getting-started/quickstart/#installation","title":"Installation","text":"<pre><code># Clone the repository\ngit clone https://github.com/DMontgomery40/tribrid-rag.git\ncd tribrid-rag\n\n# Create virtual environment\npython -m venv .venv\nsource .venv/bin/activate\n\n# Install dependencies\npip install -e .\n</code></pre>"},{"location":"getting-started/quickstart/#configuration","title":"Configuration","text":"<p>Copy the example configuration:</p> <pre><code>cp tribrid_config.example.json tribrid_config.json\n</code></pre> <p>Edit <code>tribrid_config.json</code> to configure:</p> <ul> <li>Database connections (PostgreSQL, Neo4j)</li> <li>Embedding model (OpenAI, local)</li> <li>Fusion weights</li> </ul>"},{"location":"getting-started/quickstart/#start-the-server","title":"Start the Server","text":"<pre><code>python -m server.main\n</code></pre> <p>The API will be available at <code>http://localhost:8000</code>.</p>"},{"location":"getting-started/quickstart/#next-steps","title":"Next Steps","text":"<ul> <li>Installation Guide - Detailed setup</li> <li>Configuration - All configuration options</li> </ul>"},{"location":"operations/monitoring/","title":"Monitoring","text":""},{"location":"operations/monitoring/#monitoring","title":"Monitoring","text":"<p>Monitor TriBridRAG performance and health.</p>"},{"location":"operations/monitoring/#metrics","title":"Metrics","text":"<p>TriBridRAG exposes Prometheus metrics:</p> <pre><code>GET /metrics\n</code></pre>"},{"location":"operations/monitoring/#key-metrics","title":"Key Metrics","text":"<ul> <li><code>tribrid_search_latency_seconds</code> - Search latency histogram</li> <li><code>tribrid_search_total</code> - Total search requests</li> <li><code>tribrid_rerank_latency_seconds</code> - Reranking latency</li> <li><code>tribrid_embedding_latency_seconds</code> - Embedding generation time</li> </ul>"},{"location":"operations/monitoring/#grafana-dashboard","title":"Grafana Dashboard","text":"<p>A pre-built Grafana dashboard is available:</p> <pre><code>{\n  \"ui\": {\n    \"grafana_dashboard_uid\": \"tribrid-overview\",\n    \"grafana_base_url\": \"http://127.0.0.1:3000\"\n  }\n}\n</code></pre>"},{"location":"operations/monitoring/#logging","title":"Logging","text":"<p>Configure log level in config:</p> <pre><code>{\n  \"tracing\": {\n    \"log_level\": \"INFO\",\n    \"tracing_enabled\": true\n  }\n}\n</code></pre>"},{"location":"operations/monitoring/#health-checks","title":"Health Checks","text":"<pre><code># Quick health check\ncurl http://localhost:8000/api/health\n\n# Detailed status\ncurl http://localhost:8000/api/health/detailed\n</code></pre>"},{"location":"operations/troubleshooting/","title":"Troubleshooting","text":""},{"location":"operations/troubleshooting/#troubleshooting","title":"Troubleshooting","text":"<p>Common issues and solutions.</p>"},{"location":"operations/troubleshooting/#search-returns-0-results","title":"Search Returns 0 Results","text":"<p>Symptoms: <code>/api/search</code> returns empty matches.</p> <p>Possible Causes:</p> <ol> <li>Index not built</li> <li>Wrong collection name</li> <li>Database connection issues</li> </ol> <p>Solutions:</p> <pre><code># Check if chunks exist\ncurl http://localhost:8000/api/health/detailed\n\n# Verify collection\npsql -c \"SELECT count(*) FROM chunks\"\n</code></pre>"},{"location":"operations/troubleshooting/#slow-search-performance","title":"Slow Search Performance","text":"<p>Symptoms: Searches take &gt;1 second.</p> <p>Solutions:</p> <ol> <li>Check HNSW index exists</li> <li>Reduce <code>topk_dense</code> and <code>topk_sparse</code></li> <li>Tune <code>ef_search</code> parameter</li> </ol>"},{"location":"operations/troubleshooting/#typescript-types-out-of-sync","title":"TypeScript Types Out of Sync","text":"<p>Symptoms: Frontend type errors.</p> <p>Solution:</p> <pre><code># Regenerate types\npython3.10 -c \"from pydantic2ts import generate_typescript_defs; generate_typescript_defs('server.models.tribrid_config_model', 'web/src/types/generated.ts')\"\n\n# Validate\npython scripts/validate_types.py\n</code></pre>"},{"location":"operations/troubleshooting/#neo4j-connection-failed","title":"Neo4j Connection Failed","text":"<p>Symptoms: Graph search returns errors.</p> <p>Solutions:</p> <ol> <li>Check Neo4j is running</li> <li>Verify credentials in config</li> <li>Set <code>graph_search.enabled: false</code> to disable</li> </ol>"}]}