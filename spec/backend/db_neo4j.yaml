name: Neo4j Client
description: Neo4j knowledge graph client
version: "1.0"

class: Neo4jClient

methods:
  - name: connect
    async: true
    description: Connect to Neo4j

  - name: disconnect
    async: true
    description: Disconnect from Neo4j

  - name: upsert_entity
    async: true
    params:
      - repo_id: str
      - entity: Entity
    description: Upsert single entity

  - name: upsert_entities
    async: true
    params:
      - repo_id: str
      - entities: list[Entity]
    returns: int
    description: Upsert multiple entities

  - name: get_entity
    async: true
    params:
      - entity_id: str
    returns: Entity | None
    description: Get entity by ID

  - name: list_entities
    async: true
    params:
      - repo_id: str
      - entity_type: str | None
      - limit: int
    returns: list[Entity]
    description: List entities

  - name: graph_search
    async: true
    params:
      - repo_id: str
      - query: str
      - max_hops: int
      - top_k: int
    returns: list[ChunkMatch]
    description: Graph-based search

  - name: detect_communities
    async: true
    params:
      - repo_id: str
    returns: list[Community]
    description: Detect communities using Louvain

  - name: get_graph_stats
    async: true
    params:
      - repo_id: str
    returns: GraphStats
    description: Get graph statistics
