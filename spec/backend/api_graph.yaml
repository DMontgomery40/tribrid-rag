name: Graph API
description: Knowledge graph endpoints
version: "1.0"

endpoints:
  - path: /graph/{repo_id}/entities
    method: GET
    response: list[Entity]
    description: List graph entities

  - path: /graph/{repo_id}/entity/{entity_id}
    method: GET
    response: Entity
    description: Get entity details

  - path: /graph/{repo_id}/entity/{entity_id}/relationships
    method: GET
    response: list[Relationship]
    description: Get entity relationships

  - path: /graph/{repo_id}/communities
    method: GET
    response: list[Community]
    description: List communities

  - path: /graph/{repo_id}/stats
    method: GET
    response: GraphStats
    description: Get graph statistics

  - path: /graph/{repo_id}/query
    method: POST
    response: list[dict]
    description: Execute Cypher query

models:
  Entity:
    entity_id: str
    name: str
    entity_type: str
    file_path: str | None
    description: str | None
    properties: dict

  Relationship:
    source_id: str
    target_id: str
    relation_type: str
    weight: float
    properties: dict

  Community:
    community_id: str
    name: str
    summary: str
    member_ids: list[str]
    level: int
