name: GraphBuilder
description: Knowledge graph construction
version: "1.0"

class: GraphBuilder

methods:
  - name: extract_entities
    async: true
    params:
      - chunks: list[Chunk]
    returns: list[Entity]
    description: Extract entities from chunks

  - name: extract_relationships
    async: true
    params:
      - chunks: list[Chunk]
      - entities: list[Entity]
    returns: list[Relationship]
    description: Extract relationships

  - name: build_graph
    async: true
    params:
      - repo_id: str
      - chunks: list[Chunk]
    returns: GraphStats
    description: Build complete graph

  - name: _extract_code_entities
    params:
      - chunk: Chunk
    returns: list[Entity]
    description: Extract code entities (functions, classes)

  - name: _extract_semantic_entities
    params:
      - chunk: Chunk
    returns: list[Entity]
    description: Extract semantic entities (concepts)

  - name: _infer_relationships
    params:
      - entities: list[Entity]
    returns: list[Relationship]
    description: Infer relationships between entities
