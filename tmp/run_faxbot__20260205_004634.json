{"run_id":"faxbot__20260205_004634","corpus_id":"faxbot","status":"completed","started_at":"2026-02-05T00:46:34.177386Z","completed_at":"2026-02-05T00:46:41.409675Z","config_snapshot":{"chat":{"benchmark":{"enabled":true,"include_cost_tracking":true,"include_timing_breakdown":true,"max_concurrent_models":4,"results_path":"data/benchmarks/","save_results":true},"default_corpus_ids":["recall_default"],"image_gen":{"comfyui_api_endpoint":"","default_resolution":"1024x1024","default_steps":8,"enabled":false,"local_command":"python -m qwen_image.generate","local_model_path":"","provider":"local","replicate_model":"","use_lightning_lora":true},"local_models":{"auto_detect":true,"default_chat_model":"qwen3:8b","default_embedding_model":"nomic-embed-text","default_vision_model":"qwen3-vl:8b","fallback_to_cloud":true,"gpu_memory_limit_gb":0.0,"health_check_interval":30,"providers":[{"base_url":"http://127.0.0.1:11434","enabled":true,"name":"Ollama","priority":0,"provider_type":"ollama"},{"base_url":"http://127.0.0.1:8080","enabled":false,"name":"llama.cpp","priority":1,"provider_type":"llamacpp"}]},"max_tokens":4096,"multimodal":{"image_detail":"auto","max_image_size_mb":20,"max_images_per_message":5,"supported_formats":["png","jpg","jpeg","gif","webp"],"vision_enabled":true,"vision_model_override":""},"openrouter":{"api_key":"","base_url":"https://openrouter.ai/api/v1","default_model":"anthropic/claude-sonnet-4","enabled":true,"fallback_models":["openai/gpt-4o","google/gemini-2.0-flash"],"site_name":"TriBridRAG"},"recall":{"auto_index":true,"chunk_max_tokens":256,"chunking_strategy":"sentence","default_corpus_id":"recall_default","embedding_model":"","enabled":true,"graph_enabled":false,"index_delay_seconds":60,"max_history_tokens":4096,"vector_backend":"pgvector"},"recall_gate":{"deep_on_explicit_reference":true,"deep_recency_weight":0.5,"deep_top_k":10,"default_intensity":"standard","enabled":true,"light_for_short_questions":true,"light_top_k":3,"show_gate_decision":true,"show_signals":false,"skip_greetings":true,"skip_max_tokens":4,"skip_standalone_questions":true,"skip_when_rag_active":false,"standard_recency_weight":0.3,"standard_top_k":5},"reranker":{"cloud_model":"rerank-v3.5","cloud_provider":"cohere","local_model":"cross-encoder/ms-marco-MiniLM-L-6-v2","max_age_hours":0,"mode":"local","recency_weight":0.3,"top_n":20},"send_shortcut":"ctrl+enter","show_source_dropdown":true,"system_prompt_base":"You are a helpful assistant.","system_prompt_direct":"You are a code assistant powered by TriBridRAG.\n\nThe user is chatting directly without any retrieval context. No code repositories or conversation history are being queried for this message.\n\nAnswer based on your general knowledge. If the user asks about their specific codebase and no context is provided, let them know they can enable RAG corpora in the Data Sources panel to query their indexed repositories.\n\nBe direct, technical, and helpful.","system_prompt_rag":"You are a code assistant powered by TriBridRAG, a hybrid retrieval system that combines vector search, keyword search, and knowledge graphs to find relevant code.\n\nThe user has selected one or more code repositories to query. You will receive relevant code snippets in <rag_context>...</rag_context> tags.\n\nEach snippet includes:\n- File path and line numbers (e.g., `server/auth/middleware.py:45-78`)\n- Language identifier\n- The actual code\n\nHow to use this context:\n- Base your answers on the actual code shown, not assumptions\n- Always cite file paths and line numbers when referencing code\n- If the retrieved code doesn't fully answer the question, say what's missing\n- Don't invent code that isn't in the context\n- Connect related pieces when they appear across multiple snippets\n\nBe direct, technical, and precise. You're helping a developer understand their codebase.","system_prompt_rag_and_recall":"You are a code assistant powered by TriBridRAG, a hybrid retrieval system. You have access to both:\n1) The user's indexed code repositories\n2) Your conversation history with this user (Recall)\n\nCode context appears in <rag_context>...</rag_context> tags.\nConversation history appears in <recall_context>...</recall_context> tags.\n\nHow to use both:\n- Cite file paths and line numbers when referencing code\n- Reference past discussions naturally\n- Connect them when relevant (e.g., a past decision and the code that implements it)\n- If past context contradicts current code, acknowledge the change\n- Don't say \"according to recall\" — just incorporate shared knowledge naturally\n\nBe direct, technical, and precise. You're helping a developer with ongoing context.","system_prompt_rag_suffix":" Answer questions using the provided code context. Cite file paths and line ranges.","system_prompt_recall":"You are a code assistant powered by TriBridRAG. You have access to your conversation history with this user via the Recall system.\n\nRelevant snippets from past conversations appear in <recall_context>...</recall_context> tags.\n\nEach snippet includes:\n- Who said it (user or assistant)\n- Timestamp\n- The message content\n\nHow to use this context:\n- Reference past discussions naturally\n- Don't explicitly say \"according to my recall\" — incorporate it as shared context\n- Past conversations may contain decisions, preferences, or context that inform the current question\n- Prioritize recent conversations over older ones when relevant\n\nBe direct and helpful. You're continuing an ongoing collaboration with this developer.","system_prompt_recall_suffix":" You have access to conversation history. Reference past discussions when relevant.","temperature":0.3,"temperature_no_retrieval":0.7},"chunk_summaries":{"code_snippet_length":2000,"exclude_dirs":["docs","agent_docs","website","tests","assets","internal_docs.md","out","checkpoints","models","data","telemetry","node_mcp","public","examples","bin","reports","screenshots","web/dist","gui"],"exclude_keywords":[],"exclude_patterns":[],"max_routes":5,"max_symbols":5,"purpose_max_length":240,"quick_tips":[]},"chunking":{"ast_overlap_lines":20,"chunk_overlap":200,"chunk_size":1000,"chunking_strategy":"ast","greedy_fallback_target":800,"max_chunk_tokens":8000,"max_indexable_file_size":2000000,"min_chunk_chars":50,"preserve_imports":1},"docker":{"dev_backend_port":8012,"dev_frontend_port":5173,"dev_stack_restart_timeout":30,"docker_container_action_timeout":30,"docker_container_list_timeout":10,"docker_host":"","docker_infra_down_timeout":30,"docker_infra_up_timeout":60,"docker_logs_tail":100,"docker_logs_timestamps":1,"docker_status_timeout":5},"embedding":{"embedding_batch_size":64,"embedding_cache_enabled":1,"embedding_dim":3072,"embedding_max_tokens":8000,"embedding_model":"text-embedding-3-large","embedding_model_local":"all-MiniLM-L6-v2","embedding_retry_max":3,"embedding_timeout":30,"embedding_type":"openai","voyage_model":"voyage-code-3"},"enrichment":{"chunk_summaries_enrich_default":1,"chunk_summaries_max":100,"enrich_code_chunks":1,"enrich_max_chars":1000,"enrich_min_chars":50,"enrich_timeout":30},"evaluation":{"baseline_path":"data/evals/eval_baseline.json","eval_dataset_path":"data/evaluation_dataset.json","eval_multi_m":10,"ndcg_at_10_k":10,"precision_at_5_k":5,"recall_at_10_k":10,"recall_at_20_k":20,"recall_at_5_k":5},"fusion":{"graph_weight":0.3,"method":"rrf","normalize_scores":true,"rrf_k":60,"sparse_weight":0.3,"vector_weight":0.4},"generation":{"enrich_backend":"openai","enrich_disabled":0,"enrich_model":"gpt-5.1-mini","enrich_model_ollama":"","gen_max_tokens":2048,"gen_model":"gpt-5","gen_model_cli":"qwen3-coder:14b","gen_model_http":"","gen_model_mcp":"","gen_model_ollama":"qwen3-coder:30b","gen_retry_max":2,"gen_temperature":0.0,"gen_timeout":60,"gen_top_p":1.0,"ollama_num_ctx":8192,"ollama_request_timeout":300,"ollama_stream_idle_timeout":60,"ollama_url":"http://127.0.0.1:11434/api","openai_base_url":""},"graph_indexing":{"ast_calls_weight":1.0,"ast_contains_weight":1.0,"ast_imports_weight":1.0,"ast_inherits_weight":1.0,"build_lexical_graph":true,"chunk_embedding_property":"embedding","chunk_vector_index_name":"tribrid_chunk_embeddings","enabled":true,"semantic_kg_enabled":true,"semantic_kg_llm_model":"","semantic_kg_llm_timeout_s":30,"semantic_kg_max_chunks":200,"semantic_kg_max_concepts_per_chunk":8,"semantic_kg_max_relations_per_chunk":12,"semantic_kg_min_concept_len":4,"semantic_kg_mode":"heuristic","semantic_kg_relation_weight_heuristic":0.5,"semantic_kg_relation_weight_llm":0.7,"store_chunk_embeddings":true,"vector_index_online_timeout_s":60.0,"vector_similarity_function":"cosine","wait_vector_index_online":true},"graph_search":{"chunk_entity_expansion_enabled":true,"chunk_entity_expansion_weight":0.8,"chunk_neighbor_window":1,"chunk_seed_overfetch_multiplier":10,"enabled":true,"include_communities":true,"max_hops":2,"mode":"chunk","top_k":30},"graph_storage":{"community_algorithm":"louvain","entity_types":["function","class","module","variable","import"],"graph_search_top_k":30,"include_communities":true,"max_hops":2,"neo4j_auto_create_databases":true,"neo4j_database":"neo4j","neo4j_database_mode":"shared","neo4j_database_prefix":"tribrid_","neo4j_password":"","neo4j_uri":"bolt://localhost:7687","neo4j_user":"neo4j","relationship_types":["calls","imports","inherits","contains","references"]},"hydration":{"hydration_max_chars":2000,"hydration_mode":"lazy"},"indexing":{"bm25_stemmer_lang":"english","bm25_stopwords_lang":"en","bm25_tokenizer":"whitespace","collection_suffix":"default","index_excluded_exts":".png,.jpg,.gif,.ico,.svg,.woff,.ttf","index_max_file_size_mb":10,"indexing_batch_size":100,"indexing_workers":4,"out_dir_base":"./out","postgres_url":"postgresql://postgres:postgres@localhost:5432/tribrid_rag","rag_out_base":"","repo_path":"","repos_file":"./repos.json","skip_dense":0,"table_name":"code_chunks_{repo}"},"keywords":{"keywords_auto_generate":1,"keywords_boost":1.3,"keywords_max_per_repo":50,"keywords_min_freq":3,"keywords_refresh_hours":24},"layer_bonus":{"freshness_bonus":0.05,"gui":0.15,"indexer":0.15,"intent_matrix":{"eval":{"eval":1.3,"gui":0.7,"retrieval":1.15,"server":1.1,"web":0.8},"gui":{"gui":1.2,"indexer":0.8,"retrieval":0.8,"server":0.9,"web":1.2},"indexer":{"common":1.1,"gui":0.6,"indexer":1.3,"retrieval":1.15,"web":0.7},"infra":{"infra":1.3,"scripts":1.15,"server":1.1,"web":0.9},"retrieval":{"common":1.1,"gui":0.6,"retrieval":1.3,"server":1.15,"web":0.7},"server":{"common":1.1,"gui":0.6,"retrieval":1.15,"server":1.3,"web":0.7}},"retrieval":0.15,"vendor_penalty":-0.1},"mcp":{"allowed_hosts":["localhost:*","127.0.0.1:*"],"allowed_origins":["http://localhost:*","http://127.0.0.1:*"],"default_mode":"tribrid","default_top_k":20,"enable_dns_rebinding_protection":true,"enabled":true,"json_response":true,"mount_path":"/mcp","require_api_key":false,"stateless_http":true},"reranking":{"rerank_input_snippet_chars":700,"reranker_cloud_model":"rerank-3.5","reranker_cloud_provider":"cohere","reranker_cloud_top_n":50,"reranker_local_model":"cross-encoder/ms-marco-MiniLM-L-6-v2","reranker_mode":"learning","reranker_timeout":10,"transformers_trust_remote_code":1,"tribrid_reranker_alpha":0.7,"tribrid_reranker_batch":16,"tribrid_reranker_maxlen":512,"tribrid_reranker_reload_on_change":0,"tribrid_reranker_reload_period_sec":60,"tribrid_reranker_topn":50},"retrieval":{"bm25_b":0.4,"bm25_k1":1.2,"bm25_weight":0.3,"chunk_summary_search_enabled":1,"conf_any":0.55,"conf_avg5":0.55,"conf_top1":0.62,"eval_final_k":5,"eval_multi":1,"fallback_confidence":0.55,"final_k":10,"hydration_max_chars":2000,"hydration_mode":"lazy","langgraph_final_k":20,"langgraph_max_query_rewrites":2,"max_query_rewrites":2,"multi_query_m":4,"query_expansion_enabled":1,"rrf_k_div":60,"topk_dense":75,"topk_sparse":75,"tribrid_synonyms_path":"","use_semantic_synonyms":1,"vector_weight":0.7},"scoring":{"chunk_summary_bonus":0.08,"filename_boost_exact":1.5,"filename_boost_partial":1.2,"path_boosts":"/gui,/server,/indexer,/retrieval","vendor_mode":"prefer_first_party"},"sparse_search":{"bm25_b":0.4,"bm25_k1":1.2,"enabled":true,"top_k":50},"system_prompts":{"code_enrichment":"Analyze this code and return a JSON object with: symbols (array of function/class/component names), purpose (one sentence description), keywords (array of technical terms). Be concise. Return ONLY valid JSON.","eval_analysis":"You are an expert RAG (Retrieval-Augmented Generation) system analyst.\nYour job is to analyze evaluation comparisons and provide HONEST, SKEPTICAL insights.\n\nCRITICAL: Do NOT force explanations that don't make sense. If the data is contradictory or confusing:\n- Say so clearly: \"This result is surprising and may indicate other factors at play\"\n- Consider: index changes, data drift, eval dataset updates, or measurement noise\n- Acknowledge when correlation != causation\n- It's BETTER to say \"I'm not sure why this happened\" than to fabricate a plausible-sounding but wrong explanation\n\nBe rigorous:\n1. Question whether the config changes ACTUALLY explain the performance delta\n2. Flag when results seem counterintuitive (e.g., disabling a feature improving results)\n3. Consider confounding variables: Was the index rebuilt? Did the test set change?\n4. Provide actionable suggestions only when you have reasonable confidence\n\nFormat your response with clear sections using markdown headers.","lightweight_chunk_summaries":"Extract key information from this code: symbols (function/class names), purpose (one sentence), keywords (technical terms). Return JSON only.","main_rag_chat":"You are an expert software engineer and code analysis assistant.\n\n## Your Role:\n- Answer questions about the indexed codebase with precision and accuracy\n- Always cite specific file paths and line ranges from the provided code context\n- Provide clear explanations of how code works, what it does, and why design decisions were made\n- Offer practical, actionable insights based on the actual implementation\n\n## Guidelines:\n- **Be Evidence-Based**: Ground every answer in the provided code context\n- **Be Specific**: Include file paths, line numbers, function/class names, and relevant code snippets\n- **Be Clear**: Explain technical concepts in an accessible way\n- **Be Honest**: If the context doesn't contain enough information, say so\n- **Be Helpful**: Consider edge cases, error handling, and best practices when relevant\n\n## Response Format:\n- Start with a direct answer to the question\n- Support with specific citations: `file_path:start_line-end_line`\n- Include relevant code snippets when they add clarity\n- Explain the \"why\" behind implementation choices when apparent\n\nYou answer strictly from the provided code context. Always cite file paths and line ranges you used.","query_expansion":"You are a code search query expander. Given a developer's question,\ngenerate alternative search queries that might find the same code using different terminology.\n\nRules:\n- Output one query variant per line\n- Keep variants concise (3-8 words each)\n- Use technical synonyms (auth/authentication, config/configuration, etc.)\n- Include both abstract and specific phrasings\n- Do NOT include explanations, just the queries","query_rewrite":"You rewrite developer questions into search-optimized queries without changing meaning.","semantic_chunk_summaries":"Analyze this code chunk and create a comprehensive JSON summary for code search. Focus on WHAT the code does (business purpose) and HOW it works (technical details). Include all important symbols, patterns, and domain concepts.\n\nJSON format:\n{\n  \"symbols\": [\"function_name\", \"class_name\", \"variable_name\"],\n  \"purpose\": \"Clear business purpose - what problem this solves\",\n  \"technical_details\": \"Key technical implementation details\",\n  \"domain_concepts\": [\"business_term1\", \"business_term2\"],\n  \"routes\": [\"api/endpoint\", \"webhook/path\"],\n  \"dependencies\": [\"external_service\", \"library\"],\n  \"patterns\": [\"design_pattern\", \"architectural_concept\"]\n}\n\nFocus on:\n- Domain-specific terminology and concepts from this codebase\n- Technical patterns and architectural decisions\n- Business logic and problem being solved\n- Integration points, APIs, and external services\n- Key algorithms, data structures, and workflows","semantic_kg_extraction":"You are a semantic knowledge graph extractor.\n\nGiven a single code/document chunk, extract a small set of reusable semantic concepts and relationships.\n\nRules:\n- Return ONLY valid JSON (no markdown, no extra text)\n- Concepts must be short, lowercase, and reusable across the corpus (e.g. \"authentication\", \"rate_limit\", \"vector_index\")\n- Prefer domain concepts and architectural concepts over implementation noise\n- Do NOT include file paths or line numbers as concepts\n- Keep the list small and high-signal\n\nJSON format:\n{\n  \"concepts\": [\"concept1\", \"concept2\"],\n  \"relations\": [\n    {\"source\": \"concept1\", \"target\": \"concept2\", \"relation_type\": \"related_to\"}\n  ]\n}\n\nAllowed relation_type values: related_to, references"},"tracing":{"alert_include_resolved":1,"alert_notify_severities":"critical,warning","alert_webhook_timeout":5,"langchain_endpoint":"https://api.smith.langchain.com","langchain_project":"tribrid","langchain_tracing_v2":1,"langtrace_api_host":"","langtrace_project_id":"","log_level":"INFO","metrics_enabled":1,"prometheus_port":9090,"trace_auto_ls":1,"trace_retention":50,"trace_sampling_rate":1.0,"tracing_enabled":1,"tracing_mode":"langsmith","tribrid_log_path":"data/logs/queries__faxbot_synth.jsonl"},"training":{"learning_reranker_backend":"auto","learning_reranker_base_model":"Qwen/Qwen3-Reranker-0.6B","learning_reranker_grad_accum_steps":8,"learning_reranker_lora_alpha":32.0,"learning_reranker_lora_dropout":0.05,"learning_reranker_lora_rank":16,"learning_reranker_lora_target_modules":["q_proj","k_proj","v_proj","o_proj"],"learning_reranker_negative_ratio":5,"learning_reranker_promote_epsilon":0.0,"learning_reranker_promote_if_improves":1,"learning_reranker_unload_after_sec":0,"reranker_train_batch":16,"reranker_train_epochs":2,"reranker_train_lr":2e-05,"reranker_warmup_ratio":0.1,"tribrid_reranker_mine_mode":"replace","tribrid_reranker_mine_reset":0,"tribrid_reranker_model_path":"models/learning-reranker-faxbot","tribrid_triplets_path":"data/training/triplets__faxbot.jsonl","triplets_min_count":100,"triplets_mine_mode":"replace"},"ui":{"chat_default_model":"command-a","chat_history_max":50,"chat_show_citations":1,"chat_show_confidence":1,"chat_show_debug_footer":1,"chat_show_trace":1,"chat_stream_include_thinking":1,"chat_stream_timeout":120,"chat_streaming_enabled":1,"chat_thinking_budget_tokens":10000,"editor_bind":"local","editor_embed_enabled":1,"editor_enabled":1,"editor_image":"codercom/code-server:latest","editor_port":4440,"grafana_auth_mode":"anonymous","grafana_base_url":"http://127.0.0.1:3001","grafana_dashboard_slug":"tribrid-overview","grafana_dashboard_uid":"tribrid-overview","grafana_embed_enabled":1,"grafana_kiosk":"tv","grafana_org_id":1,"grafana_refresh":"10s","open_browser":1,"runtime_mode":"development","theme_mode":"dark"},"vector_search":{"enabled":true,"similarity_threshold":0.0,"top_k":50}},"config":{"ALERT_INCLUDE_RESOLVED":1,"ALERT_NOTIFY_SEVERITIES":"critical,warning","ALERT_WEBHOOK_TIMEOUT":5,"AST_OVERLAP_LINES":20,"BASELINE_PATH":"data/evals/eval_baseline.json","BM25_B":0.4,"BM25_K1":1.2,"BM25_STEMMER_LANG":"english","BM25_STOPWORDS_LANG":"en","BM25_TOKENIZER":"whitespace","BM25_WEIGHT":0.3,"CHAT_DEFAULT_MODEL":"command-a","CHAT_HISTORY_MAX":50,"CHAT_SHOW_CITATIONS":1,"CHAT_SHOW_CONFIDENCE":1,"CHAT_SHOW_DEBUG_FOOTER":1,"CHAT_SHOW_TRACE":1,"CHAT_STREAMING_ENABLED":1,"CHAT_STREAM_INCLUDE_THINKING":1,"CHAT_STREAM_TIMEOUT":120,"CHAT_THINKING_BUDGET_TOKENS":10000,"CHUNKING_STRATEGY":"ast","CHUNK_OVERLAP":200,"CHUNK_SIZE":1000,"CHUNK_SUMMARIES_CODE_SNIPPET_LENGTH":2000,"CHUNK_SUMMARIES_ENRICH_DEFAULT":1,"CHUNK_SUMMARIES_EXCLUDE_DIRS":"docs, agent_docs, website, tests, assets, internal_docs.md, out, checkpoints, models, data, telemetry, node_mcp, public, examples, bin, reports, screenshots, web/dist, gui","CHUNK_SUMMARIES_EXCLUDE_KEYWORDS":"","CHUNK_SUMMARIES_EXCLUDE_PATTERNS":"","CHUNK_SUMMARIES_MAX":100,"CHUNK_SUMMARIES_MAX_ROUTES":5,"CHUNK_SUMMARIES_MAX_SYMBOLS":5,"CHUNK_SUMMARIES_PURPOSE_MAX_LENGTH":240,"CHUNK_SUMMARIES_QUICK_TIPS":"","CHUNK_SUMMARY_BONUS":0.08,"CHUNK_SUMMARY_SEARCH_ENABLED":1,"COLLECTION_NAME":"code_chunks_{repo}","COLLECTION_SUFFIX":"default","CONF_ANY":0.55,"CONF_AVG5":0.55,"CONF_TOP1":0.62,"DEV_BACKEND_PORT":8012,"DEV_FRONTEND_PORT":5173,"DEV_STACK_RESTART_TIMEOUT":30,"DOCKER_CONTAINER_ACTION_TIMEOUT":30,"DOCKER_CONTAINER_LIST_TIMEOUT":10,"DOCKER_HOST":"","DOCKER_INFRA_DOWN_TIMEOUT":30,"DOCKER_INFRA_UP_TIMEOUT":60,"DOCKER_LOGS_TAIL":100,"DOCKER_LOGS_TIMESTAMPS":1,"DOCKER_STATUS_TIMEOUT":5,"EDITOR_BIND":"local","EDITOR_EMBED_ENABLED":1,"EDITOR_ENABLED":1,"EDITOR_IMAGE":"codercom/code-server:latest","EDITOR_PORT":4440,"EMBEDDING_BATCH_SIZE":64,"EMBEDDING_CACHE_ENABLED":1,"EMBEDDING_DIM":3072,"EMBEDDING_MAX_TOKENS":8000,"EMBEDDING_MODEL":"text-embedding-3-large","EMBEDDING_MODEL_LOCAL":"all-MiniLM-L6-v2","EMBEDDING_RETRY_MAX":3,"EMBEDDING_TIMEOUT":30,"EMBEDDING_TYPE":"openai","ENRICH_BACKEND":"openai","ENRICH_CODE_CHUNKS":1,"ENRICH_DISABLED":0,"ENRICH_MAX_CHARS":1000,"ENRICH_MIN_CHARS":50,"ENRICH_MODEL":"gpt-5.1-mini","ENRICH_MODEL_OLLAMA":"","ENRICH_TIMEOUT":30,"EVAL_DATASET_PATH":"data/evaluation_dataset.json","EVAL_FINAL_K":5,"EVAL_MULTI":1,"EVAL_MULTI_M":10,"FALLBACK_CONFIDENCE":0.55,"FILENAME_BOOST_EXACT":1.5,"FILENAME_BOOST_PARTIAL":1.2,"FINAL_K":10,"FRESHNESS_BONUS":0.05,"FUSION_GRAPH_WEIGHT":0.3,"FUSION_METHOD":"rrf","FUSION_NORMALIZE_SCORES":true,"FUSION_RRF_K":60,"FUSION_SPARSE_WEIGHT":0.3,"FUSION_VECTOR_WEIGHT":0.4,"GEN_MAX_TOKENS":2048,"GEN_MODEL":"gpt-5","GEN_MODEL_CLI":"qwen3-coder:14b","GEN_MODEL_HTTP":"","GEN_MODEL_MCP":"","GEN_MODEL_OLLAMA":"qwen3-coder:30b","GEN_RETRY_MAX":2,"GEN_TEMPERATURE":0.0,"GEN_TIMEOUT":60,"GEN_TOP_P":1.0,"GRAFANA_AUTH_MODE":"anonymous","GRAFANA_BASE_URL":"http://127.0.0.1:3001","GRAFANA_DASHBOARD_SLUG":"tribrid-overview","GRAFANA_DASHBOARD_UID":"tribrid-overview","GRAFANA_EMBED_ENABLED":1,"GRAFANA_KIOSK":"tv","GRAFANA_ORG_ID":1,"GRAFANA_REFRESH":"10s","GRAPH_COMMUNITY_ALGORITHM":"louvain","GRAPH_ENTITY_TYPES":"function,class,module,variable,import","GRAPH_INCLUDE_COMMUNITIES":true,"GRAPH_MAX_HOPS":2,"GRAPH_RELATIONSHIP_TYPES":"calls,imports,inherits,contains,references","GRAPH_SEARCH_TOP_K":30,"GREEDY_FALLBACK_TARGET":800,"HYDRATION_MAX_CHARS":2000,"HYDRATION_MODE":"lazy","INDEXING_BATCH_SIZE":100,"INDEXING_WORKERS":4,"INDEX_EXCLUDED_EXTS":".png,.jpg,.gif,.ico,.svg,.woff,.ttf","INDEX_MAX_FILE_SIZE_MB":10,"KEYWORDS_AUTO_GENERATE":1,"KEYWORDS_BOOST":1.3,"KEYWORDS_MAX_PER_REPO":50,"KEYWORDS_MIN_FREQ":3,"KEYWORDS_REFRESH_HOURS":24,"LANGCHAIN_ENDPOINT":"https://api.smith.langchain.com","LANGCHAIN_PROJECT":"tribrid","LANGCHAIN_TRACING_V2":1,"LANGGRAPH_FINAL_K":20,"LANGGRAPH_MAX_QUERY_REWRITES":2,"LANGTRACE_API_HOST":"","LANGTRACE_PROJECT_ID":"","LAYER_BONUS_GUI":0.15,"LAYER_BONUS_INDEXER":0.15,"LAYER_BONUS_RETRIEVAL":0.15,"LAYER_INTENT_MATRIX":{"eval":{"eval":1.3,"gui":0.7,"retrieval":1.15,"server":1.1,"web":0.8},"gui":{"gui":1.2,"indexer":0.8,"retrieval":0.8,"server":0.9,"web":1.2},"indexer":{"common":1.1,"gui":0.6,"indexer":1.3,"retrieval":1.15,"web":0.7},"infra":{"infra":1.3,"scripts":1.15,"server":1.1,"web":0.9},"retrieval":{"common":1.1,"gui":0.6,"retrieval":1.3,"server":1.15,"web":0.7},"server":{"common":1.1,"gui":0.6,"retrieval":1.15,"server":1.3,"web":0.7}},"LEARNING_RERANKER_BACKEND":"auto","LEARNING_RERANKER_BASE_MODEL":"Qwen/Qwen3-Reranker-0.6B","LEARNING_RERANKER_GRAD_ACCUM_STEPS":8,"LEARNING_RERANKER_LORA_ALPHA":32.0,"LEARNING_RERANKER_LORA_DROPOUT":0.05,"LEARNING_RERANKER_LORA_RANK":16,"LEARNING_RERANKER_LORA_TARGET_MODULES":"q_proj, k_proj, v_proj, o_proj","LEARNING_RERANKER_NEGATIVE_RATIO":5,"LEARNING_RERANKER_PROMOTE_EPSILON":0.0,"LEARNING_RERANKER_PROMOTE_IF_IMPROVES":1,"LEARNING_RERANKER_UNLOAD_AFTER_SEC":0,"LOG_LEVEL":"INFO","MAX_CHUNK_TOKENS":8000,"MAX_INDEXABLE_FILE_SIZE":2000000,"MAX_QUERY_REWRITES":2,"MCP_DEFAULT_MODE":"tribrid","MCP_DEFAULT_TOP_K":20,"MCP_HTTP_ALLOWED_HOSTS":"localhost:*,127.0.0.1:*","MCP_HTTP_ALLOWED_ORIGINS":"http://localhost:*,http://127.0.0.1:*","MCP_HTTP_DNS_REBIND_PROTECTION":true,"MCP_HTTP_ENABLED":true,"MCP_HTTP_JSON_RESPONSE":true,"MCP_HTTP_PATH":"/mcp","MCP_HTTP_STATELESS":true,"MCP_REQUIRE_API_KEY":false,"METRICS_ENABLED":1,"MIN_CHUNK_CHARS":50,"MQ_REWRITES":2,"MULTI_QUERY_M":4,"NEO4J_DATABASE":"neo4j","NEO4J_PASSWORD":"","NEO4J_URI":"bolt://localhost:7687","NEO4J_USER":"neo4j","OLLAMA_NUM_CTX":8192,"OLLAMA_REQUEST_TIMEOUT":300,"OLLAMA_STREAM_IDLE_TIMEOUT":60,"OLLAMA_URL":"http://127.0.0.1:11434/api","OPENAI_BASE_URL":"","OPEN_BROWSER":1,"OUT_DIR_BASE":"./out","PATH_BOOSTS":"/gui,/server,/indexer,/retrieval","POSTGRES_URL":"postgresql://postgres:postgres@localhost:5432/tribrid_rag","PRESERVE_IMPORTS":1,"PROMETHEUS_PORT":9090,"PROMPT_CODE_ENRICHMENT":"Analyze this code and return a JSON object with: symbols (array of function/class/component names), purpose (one sentence description), keywords (array of technical terms). Be concise. Return ONLY valid JSON.","PROMPT_EVAL_ANALYSIS":"You are an expert RAG (Retrieval-Augmented Generation) system analyst.\nYour job is to analyze evaluation comparisons and provide HONEST, SKEPTICAL insights.\n\nCRITICAL: Do NOT force explanations that don't make sense. If the data is contradictory or confusing:\n- Say so clearly: \"This result is surprising and may indicate other factors at play\"\n- Consider: index changes, data drift, eval dataset updates, or measurement noise\n- Acknowledge when correlation != causation\n- It's BETTER to say \"I'm not sure why this happened\" than to fabricate a plausible-sounding but wrong explanation\n\nBe rigorous:\n1. Question whether the config changes ACTUALLY explain the performance delta\n2. Flag when results seem counterintuitive (e.g., disabling a feature improving results)\n3. Consider confounding variables: Was the index rebuilt? Did the test set change?\n4. Provide actionable suggestions only when you have reasonable confidence\n\nFormat your response with clear sections using markdown headers.","PROMPT_LIGHTWEIGHT_CARDS":"Extract key information from this code: symbols (function/class names), purpose (one sentence), keywords (technical terms). Return JSON only.","PROMPT_MAIN_RAG_CHAT":"You are an expert software engineer and code analysis assistant.\n\n## Your Role:\n- Answer questions about the indexed codebase with precision and accuracy\n- Always cite specific file paths and line ranges from the provided code context\n- Provide clear explanations of how code works, what it does, and why design decisions were made\n- Offer practical, actionable insights based on the actual implementation\n\n## Guidelines:\n- **Be Evidence-Based**: Ground every answer in the provided code context\n- **Be Specific**: Include file paths, line numbers, function/class names, and relevant code snippets\n- **Be Clear**: Explain technical concepts in an accessible way\n- **Be Honest**: If the context doesn't contain enough information, say so\n- **Be Helpful**: Consider edge cases, error handling, and best practices when relevant\n\n## Response Format:\n- Start with a direct answer to the question\n- Support with specific citations: `file_path:start_line-end_line`\n- Include relevant code snippets when they add clarity\n- Explain the \"why\" behind implementation choices when apparent\n\nYou answer strictly from the provided code context. Always cite file paths and line ranges you used.","PROMPT_QUERY_EXPANSION":"You are a code search query expander. Given a developer's question,\ngenerate alternative search queries that might find the same code using different terminology.\n\nRules:\n- Output one query variant per line\n- Keep variants concise (3-8 words each)\n- Use technical synonyms (auth/authentication, config/configuration, etc.)\n- Include both abstract and specific phrasings\n- Do NOT include explanations, just the queries","PROMPT_QUERY_REWRITE":"You rewrite developer questions into search-optimized queries without changing meaning.","PROMPT_SEMANTIC_CARDS":"Analyze this code chunk and create a comprehensive JSON summary for code search. Focus on WHAT the code does (business purpose) and HOW it works (technical details). Include all important symbols, patterns, and domain concepts.\n\nJSON format:\n{\n  \"symbols\": [\"function_name\", \"class_name\", \"variable_name\"],\n  \"purpose\": \"Clear business purpose - what problem this solves\",\n  \"technical_details\": \"Key technical implementation details\",\n  \"domain_concepts\": [\"business_term1\", \"business_term2\"],\n  \"routes\": [\"api/endpoint\", \"webhook/path\"],\n  \"dependencies\": [\"external_service\", \"library\"],\n  \"patterns\": [\"design_pattern\", \"architectural_concept\"]\n}\n\nFocus on:\n- Domain-specific terminology and concepts from this codebase\n- Technical patterns and architectural decisions\n- Business logic and problem being solved\n- Integration points, APIs, and external services\n- Key algorithms, data structures, and workflows","QUERY_EXPANSION_ENABLED":1,"RAG_OUT_BASE":"","REPOS_FILE":"./repos.json","REPO_PATH":"","RERANKER_CLOUD_MODEL":"rerank-3.5","RERANKER_CLOUD_PROVIDER":"cohere","RERANKER_CLOUD_TOP_N":50,"RERANKER_LOCAL_MODEL":"cross-encoder/ms-marco-MiniLM-L-6-v2","RERANKER_MODE":"learning","RERANKER_TIMEOUT":10,"RERANKER_TRAIN_BATCH":16,"RERANKER_TRAIN_EPOCHS":2,"RERANKER_TRAIN_LR":2e-05,"RERANKER_WARMUP_RATIO":0.1,"RERANK_INPUT_SNIPPET_CHARS":700,"RRF_K_DIV":60,"RUNTIME_MODE":"development","SKIP_DENSE":0,"THEME_MODE":"dark","TOPK_DENSE":75,"TOPK_SPARSE":75,"TRACE_AUTO_LS":1,"TRACE_RETENTION":50,"TRACE_SAMPLING_RATE":1.0,"TRACING_ENABLED":1,"TRACING_MODE":"langsmith","TRANSFORMERS_TRUST_REMOTE_CODE":1,"TRIBRID_LOG_PATH":"data/logs/queries__faxbot_synth.jsonl","TRIBRID_RERANKER_ALPHA":0.7,"TRIBRID_RERANKER_BATCH":16,"TRIBRID_RERANKER_MAXLEN":512,"TRIBRID_RERANKER_MINE_MODE":"replace","TRIBRID_RERANKER_MINE_RESET":0,"TRIBRID_RERANKER_MODEL_PATH":"models/learning-reranker-faxbot","TRIBRID_RERANKER_RELOAD_ON_CHANGE":0,"TRIBRID_RERANKER_RELOAD_PERIOD_SEC":60,"TRIBRID_RERANKER_TOPN":50,"TRIBRID_SYNONYMS_PATH":"","TRIBRID_TRIPLETS_PATH":"data/training/triplets__faxbot.jsonl","TRIPLETS_MINE_MODE":"replace","TRIPLETS_MIN_COUNT":100,"USE_SEMANTIC_SYNONYMS":1,"VECTOR_WEIGHT":0.7,"VENDOR_MODE":"prefer_first_party","VENDOR_PENALTY":-0.1,"VOYAGE_MODEL":"voyage-code-3"},"primary_metric":"mrr","primary_k":10,"metrics_available":["mrr@10","ndcg@10","map"],"metric_profile":{"corpus_id":"faxbot","label_kind":"binary","avg_relevant_per_query":1.018181818181818,"p95_relevant_per_query":1.0,"recommended_metric":"mrr","recommended_k":10,"rationale":"Most queries have ~1 relevant doc (avg=1.02, p95=1.0), so MRR@10 is the headline."},"epochs":1,"batch_size":4,"lr":0.0002,"warmup_ratio":0.0,"max_length":128,"summary":{"primary_metric_best":1.0,"primary_metric_final":1.0,"best_step":50,"time_to_best_secs":6.782222,"stability_stddev":0.0}}